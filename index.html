
<!DOCTYPE html>
<html>
<head>
    <title>HPP Lightbox Demo</title>
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="/rxp-js.js"></script>
    <script>
      RealexHpp.setHppUrl('https://pay.sandbox.realexpayments.com/pay');
      // get the HPP JSON from the server-side SDK
      $(document).ready(function () {
        $.getJSON("/get-hpp-charge", function (jsonFromServerSdk) {
          console.log('jsonFromServerSdk', jsonFromServerSdk)
          RealexHpp.embedded.init(
            "payButtonId",
            "targetIframe",
            "http://localhost:3000/charge-case",
            jsonFromServerSdk
          );
          $('body').addClass('loaded');
          $("#payButtonId").trigger("click");
        });
        // $.getJSON("/get-hpp-authorize", function (jsonFromServerSdk) {
        //   console.log('jsonFromServerSdk', jsonFromServerSdk)
        //   RealexHpp.embedded.init(
        //     "payButtonId2",
        //     "targetIframe",
        //     "http://localhost:3000/authorize-case",
        //     jsonFromServerSdk
        //   );
        //   $('body').addClass('loaded');
        // });
      });
      // $(document).ready(function() {
      //   $.getJSON("/get-json", function(jsonFromRequestEndpoint) {
      //     RealexHpp.setHppUrl("https://pay.sandbox.realexpayments.com/pay");
      //     RealexHpp.lightbox.init("payButtonId", "http://localhost:3000/", jsonFromRequestEndpoint);
      //   });
      // });

    </script>
</head>
<body>
<input type="submit" style="display: none" id="payButtonId" value="Checkout Now" />
<br />
<iframe id="targetIframe" style="display:none;width: 100%;height: 100%;"></iframe>
</body>
</html>